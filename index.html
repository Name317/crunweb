<html>
	<head>
		<meta charset="UTF-8">
		<title>317's Run Code Get Web</title>
		<style>
			.mid{
				display:flex;
				justify-content:center;
				align-items:center;
			}
			.left{
				display:flex;
				justify-content:left;
				align-items:center;
			}
			.right{
				display:flex;
				justify-content:right;
				align-items:center;
			}
			button {
				background-color: #123456;
				border: none;    
    				color: white;
				text-align: center;
				display: inline-block;
				border-radius:8px;
				font-size: 15px;
    			}		
		</style>
	</head>
	<body>
	<div id = "modiv"></div>
	<script>
		function showTextParam() {
		  const url = new URL(window.location.href);
		  const color = url.searchParams.get('color');
		  const mode = url.searchParams.get('mode');
		  const text = url.searchParams.get('text');
		  const style = url.searchParams.get('style');
		  const buname = url.searchParams.get('name');
		  const lil = url.searchParams.get('way');
		  const tos = url.searchParams.get('to');
		  const he = url.searchParams.get('h');
		  const we = url.searchParams.get('w');
		  const lop = url.searchParams.get('loop');
		  const st = url.searchParams.get('start');
		  const sd = url.searchParams.get('sound');
		  var obi = String(url.searchParams.get('cbi')).split(",");
		  var obj = String(url.searchParams.get('cbj')).split(",");
		  var obs = String(url.searchParams.get('cbs')).split(",");
		  var osi = String(url.searchParams.get('csi')).split(",");
		  var op = String(url.searchParams.get('cp')).split(",");
		  var ov = String(url.searchParams.get('cv')).split(",");
		  var weizhi = String(url.searchParams.get('nvw')).split(",");
		  if (mode === 'text' && text) {
			if (color) {
  		    		modiv.style.color = color;
				if (style){
					modiv.style.fontFamily = style;
				}
				document.getElementById('modiv').textContent = text;	
		  	} else {
  		        	modiv.style.color = 'black';
				if (style){
					modiv.style.fontFamily = style;
				}
				document.getElementById('modiv').textContent = text;
		    }
		  }
		  else if (mode === 'button' && buname && lil){
			  if (lil === 'alert'){
				  if (!tos){
					var btn = document.createElement("button");
				  	btn.innerHTML = buname;
				  	document.body.appendChild(btn);
				  	btn.addEventListener("click", function() {
				  	    alert(' ');
				  	});
				  }
				  else{
				  	var btn = document.createElement("button");
				  	btn.innerHTML = buname;
				  	document.body.appendChild(btn);
				  	btn.addEventListener("click", function() {
				  	    alert(tos);
				  	});
				  }
			  }
			  else if (lil === 'jump' && tos){
				  var btn = document.createElement("button");
				  btn.innerHTML = buname;
				  document.body.appendChild(btn);
				  btn.addEventListener("click", function() {
				      window.open(tos, '_blank');  
				  });
			  }
			  else{
				  document.getElementById('modiv').textContent = 'There is nothing, please check if your website address is incorrect.';	
			  }
		  }
		  else if (mode == 'picture' && tos){
			  var img = document.createElement('img');
  			  img.src = tos;
  			  if (we){
				  img.width = we;
			  }
			  if (he){
				  img.height = he;
			  }
  			  document.body.appendChild(img);
		  }
		  else if (mode == 'video' && tos){
			  var video = document.createElement('video');
 			  video.src = tos;
			  video.controls = true; // 添加播放控件
			  video.autoplay = st; // 不要自动播放
			  video.muted = sd; // 不要静音
			  video.loop = lop; // 不循环播放
			  video.preload = 'auto';
			  var container = document.getElementById('modiv'); // 假设有一个ID为video-container的容器
			  container.appendChild(video);
		  }
		  else if (mode == 'html' && tos){
			  document.write(tos);
		  }
		  else if (mode == 'pre' && tos){
			  var stringToSplit = tos;
			  var bi = 0,bj = 0,bs = 0,si = 0,p = 0,v = 0;
        		  var splitString = stringToSplit.split(",");
			  for (var i = 0; i < splitString.length; i++) {
        			var doi = splitString[i];
				if (doi === 'buttoninfo'){
					document.write('<span class = "' + weizhi[bi + bj + bs + si + v + p] + '">');
					document.write('<button onclick = "alert(&apos;' + obi[bi * 2 + 1] + '&apos;)">' + obi[bi * 2] + '</button>');
					document.write('</span>');
					bi++;
				}
				if (doi === 'buttonjump'){
					document.write('<span class = "' + weizhi[bi + bj + bs + si + v + p] + '">');
					document.write('<button class = "' + weizhi[bi + bj + bs + si + v + p] + '" onclick = "window.open(&apos;' + obj[bj * 2 + 1] + '&apos;, ' + '&apos;_blank&apos;' + ')">' + obj[bj * 2] + '</button>');
					document.write('</span>');
					bj++;
				}
				if (doi === 'bigsmall'){
					document.write('<span class = "' + weizhi[bi + bj + bs + si + v + p] + '">');
					document.write('<h1>' + obs[bs * 2] + '</h1>');
					document.write('</span>');
					document.write('<span class = "' + weizhi[bi + bj + bs + si + v + p] + '">');
					document.write('<h3>' + obs[bs * 2 + 1] + '</h3>');
					document.write('</span>');
					bs++;
				}
				if (doi === 'smallinfo'){
					document.write('<span class = "' + weizhi[bi + bj + bs + si + v + p] + '">');
					document.write('<h4' + ' title = "' + osi[si * 2 + 1] + '">' + osi[si * 2] + '</h4>');
					document.write('</span>');
					si++;
				}
				if (doi === 'video'){
					document.write('<span class = "' + weizhi[bi + bj + bs + si + v + p] + '">');
					document.write('<iframe' + '" src = "' + ov[si * 2] + '" title = "' + ov[si * 2 + 1] + '"></iframe>');
					document.write('</span>');
					v++;
				}
				if (doi === 'picture'){
					document.write('<span class = "' + weizhi[bi + bj + bs + si + v + p] + '">');
					document.write('<img' + '" src = "' + op[si * 2] + '" title = "' + op[si * 2 + 1] + '"></img>');
					document.write('</span>');
					p++;
				}
        		  }
		  }
		  else{
		    document.getElementById('modiv').textContent = '): There is nothing, please check if your website address is incorrect.';	
		  }
		}
		showTextParam();
	</script>
	</body>
</html>
